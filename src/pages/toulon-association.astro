---
import Layout from '../layouts/Layout.astro';

const associations = [
	{
		nom: "Croix-Rouge française - Antenne de Toulon",
		adresse: "10 rue Roche, 83000 Toulon",
		telephone: "04 94 41 50 15",
		description: "Aide sociale, soutien aux familles, soins médicaux, accompagnement des personnes âgées et en situation de handicap, distribution alimentaire et vestimentaire.",
		domaines: ["Aide sociale", "Soins", "Personnes âgées"]
	},
	{
		nom: "APF France Handicap - Délégation du Var",
		adresse: "58 rue Antoine Fourcroy, 83130 La Garde",
		telephone: "04 98 01 30 50",
		description: "Défense des droits des personnes en situation de handicap, accompagnement social, groupes de parole, orientation et soutien aux familles. Plus de 90 ans d'engagement.",
		domaines: ["Handicap", "Droits", "Groupes de parole"]
	},
	{
		nom: "LADAPT Var",
		adresse: "281 rue Jean Jaurès, 83000 Toulon",
		telephone: "04 86 87 24 80",
		description: "Réinsertion professionnelle des personnes reconnues travailleurs handicapés. Accompagnement par une équipe pluridisciplinaire (psychologues, ergothérapeutes, formateurs).",
		domaines: ["Insertion pro", "Handicap", "Formation"]
	},
	{
		nom: "Association AVENS",
		adresse: "100 avenue Antoine Sénequier, 83000 Toulon",
		telephone: "",
		description: "Gestion de 16 établissements varois pour l'accompagnement des personnes en situation de handicap : scolarisation, formation, hébergement, accompagnement médical. Environ 500 salariés.",
		domaines: ["Handicap", "Hébergement", "Médical"]
	},
	{
		nom: "Entr'aide Sociale du Var",
		adresse: "2 rue Gimelli, 83000 Toulon",
		telephone: "04 94 92 27 08",
		description: "Aide et maintien à domicile des personnes âgées, handicapées et des familles depuis plus de 50 ans. Plus de 44 permanences dans le Var.",
		domaines: ["Maintien à domicile", "Personnes âgées", "Handicap"]
	},
	{
		nom: "France Alzheimer Var",
		adresse: "36 rue Henri Poincaré, 83000 Toulon",
		telephone: "04 94 09 30 30",
		description: "Soutien aux malades d'Alzheimer et à leurs aidants : groupes de parole, formation des aidants familiaux, café mémoire, activités de stimulation cognitive.",
		domaines: ["Alzheimer", "Aidants", "Groupes de parole"]
	},
	{
		nom: "Alzheimer Aidants Var (AA83)",
		adresse: "168 avenue Semper Oliva, 83190 Ollioules",
		telephone: "04 94 94 94 94",
		description: "Prise en soin des personnes atteintes de maladies neurodégénératives et accompagnement des familles. Équipe de professionnels : neuropsychologue, ergothérapeute, infirmier.",
		domaines: ["Neurodégénératif", "Aidants", "Accueil de jour"]
	},
	{
		nom: "ASPA - Aide Sociale aux Personnes Âgées",
		adresse: "185 avenue Franklin Roosevelt, 83000 Toulon",
		telephone: "04 94 46 04 60",
		description: "Accompagnement et services aux personnes âgées dont l'autonomie décline. Aide à domicile et soutien social.",
		domaines: ["Personnes âgées", "Aide à domicile", "Autonomie"]
	},
	{
		nom: "Association Solidom",
		adresse: "11 rue Revel, 83000 Toulon",
		telephone: "",
		description: "Aide à domicile pour personnes âgées et personnes en situation de handicap dans le Var. Intervention 7j/7 et 24h/24 selon les besoins.",
		domaines: ["Aide à domicile", "Personnes âgées", "Handicap"]
	},
	{
		nom: "Secours Populaire Français - Var",
		adresse: "672 avenue du 15ème Corps, 83200 Toulon",
		telephone: "04 94 41 50 15",
		description: "Aide humanitaire et sociale, accès à l'alimentation, au logement, à la santé, à l'éducation et aux loisirs pour les personnes en difficulté.",
		domaines: ["Aide sociale", "Alimentation", "Santé"]
	},
	{
		nom: "AMFD 83 - Aide aux Mères et aux Familles",
		adresse: "25 place Albert 1er, 83000 Toulon",
		telephone: "04 94 89 59 95",
		description: "Service d'aide et d'accompagnement à domicile dédié aux personnes âgées, dépendantes ou en situation de handicap, ainsi qu'aux familles. En activité depuis 1940.",
		domaines: ["Familles", "Personnes âgées", "Aide à domicile"]
	},
	{
		nom: "Toulon Var Sport Adapté (TVSA)",
		adresse: "Toulon, 83000",
		telephone: "",
		description: "Affiliée à la Fédération Française de Sport Adapté. Offre sportive variée, adaptée et régulière pour toute personne en situation de handicap mental ou psychique.",
		domaines: ["Sport adapté", "Handicap mental", "Inclusion"]
	}
];
---

<Layout title="Associations Santé et Handicap à Toulon – Annuaire (83) | Association Var Incontinence">

	<!-- Hero -->
	<section class="bg-gradient-to-br from-teal-700 via-teal-600 to-cyan-600 text-white py-16 md:py-20">
		<div class="max-w-6xl mx-auto px-4">
			<nav class="text-teal-200 text-sm mb-6">
				<a href={import.meta.env.BASE_URL} class="hover:text-white transition-colors">Accueil</a>
				<span class="mx-2">/</span>
				<span class="text-white">Associations à Toulon</span>
			</nav>
			<h1 class="text-3xl md:text-5xl font-bold mb-4">Associations santé et handicap à Toulon</h1>
			<p class="text-lg text-teal-100 max-w-2xl">
				Annuaire des associations d'aide aux personnes malades, en situation de handicap ou en perte d'autonomie à Toulon et dans le Var. Soutien, accompagnement et orientation.
			</p>
			<div class="mt-6 flex items-center gap-2 text-teal-200 text-sm">
				<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
				<span>{associations.length} associations référencées</span>
			</div>
		</div>
	</section>

	<!-- Intro SEO -->
	<section class="py-12 bg-gray-50 border-b border-gray-100">
		<div class="max-w-4xl mx-auto px-4">
			<h2 class="text-2xl font-bold text-gray-900 mb-4">Associations d'aide et de soutien à Toulon</h2>
			<p class="text-gray-600 leading-relaxed mb-4">
				De nombreuses associations toulonnaises accompagnent les personnes touchées par la maladie, le handicap ou la perte d'autonomie. Qu'il s'agisse de groupes de parole, d'aide à domicile, d'insertion professionnelle ou de défense des droits, ces structures offrent un soutien précieux et souvent gratuit.
			</p>
			<p class="text-gray-600 leading-relaxed">
				L'association Var Incontinence travaille en lien avec ces acteurs locaux. <a href={`${import.meta.env.BASE_URL}#contact`} class="text-teal-600 underline hover:text-teal-800">Contactez-nous</a> pour être orienté(e) vers la structure la plus adaptée.
			</p>
		</div>
	</section>

	<!-- Liste des associations -->
	<section class="py-16 bg-white">
		<div class="max-w-6xl mx-auto px-4">
			<div class="grid gap-6">
				{associations.map((a, i) => (
					<article class="bg-white border border-gray-200 rounded-2xl p-6 md:p-8 hover:border-teal-300 hover:shadow-md transition-all">
						<div class="flex flex-col md:flex-row md:items-start md:justify-between gap-4">
							<div class="flex-1">
								<div class="flex items-center gap-3 mb-3">
									<span class="w-8 h-8 bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center text-sm font-bold">{i + 1}</span>
									<h3 class="text-xl font-bold text-gray-900">{a.nom}</h3>
								</div>
								<p class="text-gray-600 mb-4">{a.description}</p>
								<div class="flex flex-wrap gap-2">
									{a.domaines.map(d => (
										<span class="bg-blue-50 text-blue-700 text-xs font-medium px-3 py-1 rounded-full">{d}</span>
									))}
								</div>
							</div>
							<div class="md:text-right shrink-0 space-y-2">
								<div class="flex items-center gap-2 text-sm text-gray-600">
									<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
									<span>{a.adresse}</span>
								</div>
								{a.telephone && (
									<div class="flex items-center gap-2 text-sm">
										<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>
										<a href={`tel:${a.telephone.replace(/\s/g, '')}`} class="text-teal-600 font-medium hover:text-teal-800">{a.telephone}</a>
									</div>
								)}
								<button data-nom={a.nom} class="btn-modifier mt-2 inline-flex items-center gap-1 text-xs text-teal-600 hover:text-teal-800 font-medium border border-teal-200 hover:border-teal-400 px-3 py-1.5 rounded-full hover:bg-teal-50 transition-all">
									<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
									Modifier cette fiche
								</button>
							</div>
						</div>
					</article>
				))}
			</div>
		</div>
	</section>

	<!-- Maillage interne -->
	<section class="py-12 bg-white border-t border-gray-100">
		<div class="max-w-6xl mx-auto px-4">
			<h2 class="text-xl font-bold text-gray-900 mb-4">Voir aussi</h2>
			<div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
				<a href={`${import.meta.env.BASE_URL}quartiers-toulon-incontinence/`} class="bg-gray-50 rounded-xl p-4 hover:bg-teal-50 transition-all text-sm">
					<p class="font-semibold text-gray-900">Quartiers de Toulon</p><p class="text-xs text-gray-500">Aide par quartier</p>
				</a>
				<a href={`${import.meta.env.BASE_URL}toulon-infirmiere/`} class="bg-gray-50 rounded-xl p-4 hover:bg-teal-50 transition-all text-sm">
					<p class="font-semibold text-gray-900">Infirmières à Toulon</p><p class="text-xs text-gray-500">12 cabinets référencés</p>
				</a>
				<a href={`${import.meta.env.BASE_URL}toulon-materiel-medical/`} class="bg-gray-50 rounded-xl p-4 hover:bg-teal-50 transition-all text-sm">
					<p class="font-semibold text-gray-900">Matériel médical</p><p class="text-xs text-gray-500">Fournisseurs à Toulon</p>
				</a>
				<a href={`${import.meta.env.BASE_URL}rejoindre-association-toulon-83000/`} class="bg-gray-50 rounded-xl p-4 hover:bg-teal-50 transition-all text-sm">
					<p class="font-semibold text-gray-900">Rejoindre l'association</p><p class="text-xs text-gray-500">Adhésion, bénévolat, don</p>
				</a>
			</div>
		</div>
	</section>

	<!-- Bouton professionnel -->
	<section class="py-10 bg-gradient-to-r from-teal-50 to-cyan-50">
		<div class="max-w-4xl mx-auto px-4 text-center">
			<p class="text-gray-600 text-sm mb-3">Vous représentez une association ?</p>
			<button id="open-modal-asso" class="inline-flex items-center gap-2 bg-teal-600 text-white font-semibold px-8 py-4 rounded-full hover:bg-teal-700 shadow-lg hover:shadow-xl transition-all text-base">
				<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
				Modifier les informations de l'association ou recevoir les demandes
			</button>
		</div>
	</section>

	<!-- Modal professionnel -->
	<div id="modal-asso" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/50">
		<div class="bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 p-8 relative">
			<button id="close-modal-asso" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
				<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
			</button>
			<h3 class="text-xl font-bold text-gray-900 mb-2">Modifier les informations</h3>
			<p class="text-gray-500 text-sm mb-6">Mettez à jour votre fiche ou inscrivez-vous pour recevoir les demandes.</p>
			<form action="https://formsubmit.co/association@var-incontinence.fr" method="POST" class="space-y-4">
				<input type="hidden" name="_subject" value="Demande modification annuaire associations">
				<input type="hidden" name="_captcha" value="true">
				<input type="text" name="_honey" style="display:none">
				<div>
					<label class="block text-sm font-medium text-gray-700 mb-1">Nom</label>
					<input type="text" name="nom" required class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none transition-all" placeholder="Nom de l'association">
				</div>
				<div>
					<label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
					<input type="email" name="email" required class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none transition-all" placeholder="votre@email.fr">
				</div>
				<button type="submit" class="w-full bg-teal-600 text-white font-semibold py-3 rounded-xl hover:bg-teal-700 transition-colors">Envoyer la demande</button>
			</form>
		</div>
	</div>

	<!-- CTA -->
	<section class="py-16 bg-teal-50">
		<div class="max-w-4xl mx-auto px-4 text-center">
			<h2 class="text-2xl font-bold text-gray-900 mb-4">Vous souhaitez être orienté(e) ?</h2>
			<p class="text-gray-600 mb-8">Var Incontinence collabore avec les associations locales pour vous orienter vers la structure la plus adaptée à votre situation.</p>
			<a href={`${import.meta.env.BASE_URL}#contact`} class="inline-block bg-teal-600 text-white font-semibold px-8 py-3 rounded-full hover:bg-teal-700 transition-colors">Contactez-nous</a>
		</div>
	</section>

	<script>
		const closeBtn = document.getElementById('close-modal-asso');
		const modal = document.getElementById('modal-asso');
		const nomInput = modal?.querySelector('input[name="nom"]') as HTMLInputElement | null;

		function openModal(nom?: string) {
			if (nomInput && nom) nomInput.value = nom;
			modal?.classList.remove('hidden');
			modal?.classList.add('flex');
		}

		document.getElementById('open-modal-asso')?.addEventListener('click', () => openModal());

		document.querySelectorAll('.btn-modifier').forEach(btn => {
			btn.addEventListener('click', () => openModal((btn as HTMLElement).dataset.nom));
		});

		closeBtn?.addEventListener('click', () => { modal?.classList.add('hidden'); modal?.classList.remove('flex'); });
		modal?.addEventListener('click', (e) => { if (e.target === modal) { modal.classList.add('hidden'); modal.classList.remove('flex'); } });
	</script>

</Layout>
