---
import '../styles/global.css';

interface Props {
	title: string;
	description?: string;
}

const { title, description = "Var Incontinence - Association loi 1901 à Toulon 83000. Aide, soutien et accompagnement des personnes souffrant d'incontinence dans le Var." } = Astro.props;
const base = import.meta.env.BASE_URL;
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<html lang="fr">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content={description} />
		<meta name="keywords" content="incontinence, association, Toulon, 83000, Var, aide, soutien, handicap, santé" />
		<meta name="author" content="Association Var Incontinence" />
		<link rel="canonical" href={canonicalURL} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:type" content="website" />
		<meta property="og:locale" content="fr_FR" />
		<meta property="og:site_name" content="Var Incontinence - Association à Toulon 83000" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	<body class="bg-white text-gray-800 font-sans antialiased">
		<!-- Skip to content -->
		<a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-[100] focus:bg-teal-600 focus:text-white focus:px-4 focus:py-2 focus:rounded-lg focus:text-sm">Aller au contenu principal</a>

		<!-- Header -->
		<header class="bg-white shadow-sm sticky top-0 z-50" role="banner">
			<nav class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
				<a href={base} class="flex items-center gap-3">
					<div class="w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center">
						<span class="text-white font-bold text-lg">VI</span>
					</div>
					<div>
						<span class="text-xl font-bold text-teal-700">Var Incontinence</span>
						<span class="hidden sm:block text-xs text-gray-500">Association loi 1901</span>
					</div>
				</a>
				<!-- Mobile menu button -->
				<button id="menu-toggle" class="lg:hidden p-2 text-gray-600 hover:text-teal-700" aria-label="Menu">
					<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
					</svg>
				</button>
				<!-- Desktop nav -->
				<ul class="hidden lg:flex items-center gap-5 text-sm font-medium">
					<li><a href={base} class="text-gray-600 hover:text-teal-700 transition-colors">Accueil</a></li>
					<li class="relative group">
						<button class="text-gray-600 hover:text-teal-700 transition-colors flex items-center gap-1">
							Annuaires
							<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
						</button>
						<ul class="absolute top-full left-0 mt-2 bg-white shadow-lg rounded-xl border border-gray-100 py-2 w-64 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50">
							<li><a href={`${base}toulon-materiel-medical/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Matériel médical - Toulon</a></li>
							<li><a href={`${base}toulon-infirmiere/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Infirmières - Toulon</a></li>
							<li><a href={`${base}toulon-association/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Associations - Toulon</a></li>
							<li><a href={`${base}quartiers-toulon-incontinence/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Quartiers de Toulon</a></li>
						</ul>
					</li>
					<li class="relative group">
						<button class="text-gray-600 hover:text-teal-700 transition-colors flex items-center gap-1">
							L'association
							<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
						</button>
						<ul class="absolute top-full left-0 mt-2 bg-white shadow-lg rounded-xl border border-gray-100 py-2 w-64 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50">
							<li><a href={`${base}entraide-incontinence-toulon/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Entraide</a></li>
							<li><a href={`${base}aidants-toulon-83000/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Soutien aux aidants</a></li>
							<li><a href={`${base}temoignages-incontinence-toulon/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Témoignages</a></li>
							<li><a href={`${base}blog-handicap-incontinence-toulon/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Blog</a></li>
						</ul>
					</li>
					<li><a href={`${base}rejoindre-association-toulon-83000/`} class="text-gray-600 hover:text-teal-700 transition-colors">Nous rejoindre</a></li>
					<li><a href={`${base}#contact`} class="bg-teal-600 text-white px-5 py-2 rounded-full hover:bg-teal-700 transition-colors">Contact</a></li>
				</ul>
			</nav>
			<!-- Mobile nav -->
			<div id="mobile-menu" class="hidden lg:hidden border-t border-gray-100">
				<ul class="flex flex-col px-4 py-4 gap-3 text-sm font-medium">
					<li><a href={base} class="text-gray-600 hover:text-teal-700">Accueil</a></li>
					<li class="border-t border-gray-100 pt-2 text-xs text-gray-400 uppercase tracking-wider">Annuaires Toulon</li>
					<li><a href={`${base}toulon-materiel-medical/`} class="text-gray-600 hover:text-teal-700">Matériel médical</a></li>
					<li><a href={`${base}toulon-infirmiere/`} class="text-gray-600 hover:text-teal-700">Infirmières</a></li>
					<li><a href={`${base}toulon-association/`} class="text-gray-600 hover:text-teal-700">Associations</a></li>
					<li><a href={`${base}quartiers-toulon-incontinence/`} class="text-gray-600 hover:text-teal-700">Quartiers de Toulon</a></li>
					<li class="border-t border-gray-100 pt-2 text-xs text-gray-400 uppercase tracking-wider">L'association</li>
					<li><a href={`${base}entraide-incontinence-toulon/`} class="text-gray-600 hover:text-teal-700">Entraide</a></li>
					<li><a href={`${base}aidants-toulon-83000/`} class="text-gray-600 hover:text-teal-700">Soutien aux aidants</a></li>
					<li><a href={`${base}temoignages-incontinence-toulon/`} class="text-gray-600 hover:text-teal-700">Témoignages</a></li>
					<li><a href={`${base}blog-handicap-incontinence-toulon/`} class="text-gray-600 hover:text-teal-700">Blog</a></li>
					<li class="border-t border-gray-100 pt-2"><a href={`${base}rejoindre-association-toulon-83000/`} class="text-teal-700 font-semibold">Nous rejoindre</a></li>
					<li><a href={`${base}#contact`} class="text-teal-700 font-semibold">Contact</a></li>
				</ul>
			</div>
		</header>

		<main id="main-content">
			<slot />
		</main>

		<!-- Footer -->
		<footer class="bg-gray-900 text-gray-300">
			<div class="max-w-6xl mx-auto px-4 py-12">
				<div class="grid md:grid-cols-5 gap-8">
					<div>
						<div class="flex items-center gap-3 mb-4">
							<div class="w-8 h-8 bg-teal-600 rounded-full flex items-center justify-center">
								<span class="text-white font-bold text-sm">VI</span>
							</div>
							<span class="text-lg font-bold text-white">Var Incontinence</span>
						</div>
						<p class="text-sm text-gray-400 leading-relaxed mb-3">
							Association loi 1901 d'aide et de soutien pour les personnes touchées par l'incontinence à Toulon et dans le Var.
						</p>
						<p class="text-xs text-gray-500">W8320222250 - Greffe de Toulon</p>
					</div>
					<div>
						<h4 class="text-white font-semibold mb-4">Annuaires Toulon</h4>
						<ul class="space-y-2 text-sm">
							<li><a href={`${base}toulon-materiel-medical/`} class="hover:text-teal-400 transition-colors">Matériel médical</a></li>
							<li><a href={`${base}toulon-infirmiere/`} class="hover:text-teal-400 transition-colors">Infirmières</a></li>
							<li><a href={`${base}toulon-association/`} class="hover:text-teal-400 transition-colors">Associations santé</a></li>
							<li><a href={`${base}quartiers-toulon-incontinence/`} class="hover:text-teal-400 transition-colors">Quartiers de Toulon</a></li>
						</ul>
					</div>
					<div>
						<h4 class="text-white font-semibold mb-4">L'association</h4>
						<ul class="space-y-2 text-sm">
							<li><a href={`${base}entraide-incontinence-toulon/`} class="hover:text-teal-400 transition-colors">Entraide</a></li>
							<li><a href={`${base}aidants-toulon-83000/`} class="hover:text-teal-400 transition-colors">Aidants</a></li>
							<li><a href={`${base}temoignages-incontinence-toulon/`} class="hover:text-teal-400 transition-colors">Témoignages</a></li>
							<li><a href={`${base}blog-handicap-incontinence-toulon/`} class="hover:text-teal-400 transition-colors">Blog</a></li>
							<li><a href={`${base}rejoindre-association-toulon-83000/`} class="hover:text-teal-400 transition-colors">Nous rejoindre</a></li>
						</ul>
					</div>
					<div>
						<h4 class="text-white font-semibold mb-4">Derniers articles</h4>
						<ul class="space-y-2 text-sm">
							<li><a href={`${base}blog/types-incontinence-urinaire/`} class="hover:text-teal-400 transition-colors">Types d'incontinence</a></li>
							<li><a href={`${base}blog/reeducation-perineale-toulon/`} class="hover:text-teal-400 transition-colors">Rééducation périnéale</a></li>
							<li><a href={`${base}blog/protections-urinaires-guide/`} class="hover:text-teal-400 transition-colors">Guide protections</a></li>
							<li><a href={`${base}blog/sport-incontinence/`} class="hover:text-teal-400 transition-colors">Sport et incontinence</a></li>
						</ul>
					</div>
					<div>
						<h4 class="text-white font-semibold mb-4">Contact</h4>
						<ul class="space-y-2 text-sm text-gray-400">
							<li>720 avenue Joseph Louis Ortolan</li>
							<li>83100 Toulon</li>
							<li><a href="mailto:varincontinence@gmail.com" class="hover:text-teal-400 transition-colors">varincontinence@gmail.com</a></li>
							<li><a href="tel:0669525235" class="hover:text-teal-400 transition-colors">06 69 52 52 35</a></li>
						</ul>
						<a href={`${base}#contact`} class="inline-block mt-4 text-sm text-teal-400 hover:text-teal-300 transition-colors">Nous contacter &rarr;</a>
						<div class="flex items-center gap-3 mt-4">
							<a href="https://share.google/zZNlQEKxdpZgHRzrS" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-teal-400 transition-colors" aria-label="Google My Business">
								<svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
							</a>
							<a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-teal-400 transition-colors" aria-label="Facebook">
								<svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
							</a>
							<a href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-teal-400 transition-colors" aria-label="LinkedIn">
								<svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
							</a>
						</div>
					</div>
				</div>
				<div class="border-t border-gray-800 mt-8 pt-8 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-gray-500">
					<p>&copy; {new Date().getFullYear()} Var Incontinence - Association loi 1901 à Toulon 83000.</p>
					<div class="flex gap-4">
						<a href={`${base}mentions-legales/`} class="hover:text-teal-400 transition-colors">Mentions légales</a>
						<a href={`${base}politique-confidentialite/`} class="hover:text-teal-400 transition-colors">Confidentialité</a>
					</div>
				</div>
			</div>
		</footer>

		<!-- Sticker fixe bas droite -->
		<div class="fixed bottom-4 right-4 z-50 bg-teal-700 text-white px-4 py-3 rounded-xl shadow-lg text-sm font-medium flex items-center gap-2 hover:bg-teal-800 transition-colors">
			<svg class="w-5 h-5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
			<div>
				<div class="font-bold">Association Loi 1901</div>
				<div class="text-teal-200 text-xs">Toulon 83000</div>
			</div>
		</div>

		<!-- Bouton retour en haut -->
		<button id="back-to-top" class="fixed bottom-20 right-4 z-50 bg-teal-600 text-white w-10 h-10 rounded-full shadow-lg flex items-center justify-center hover:bg-teal-700 transition-all opacity-0 invisible" aria-label="Retour en haut de page">
			<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" /></svg>
		</button>

		<script>
			const toggle = document.getElementById('menu-toggle');
			const menu = document.getElementById('mobile-menu');
			toggle?.addEventListener('click', () => {
				menu?.classList.toggle('hidden');
			});
			menu?.querySelectorAll('a').forEach(link => {
				link.addEventListener('click', () => {
					menu?.classList.add('hidden');
				});
			});

			// Back to top button
			const backToTop = document.getElementById('back-to-top');
			window.addEventListener('scroll', () => {
				if (window.scrollY > 400) {
					backToTop?.classList.remove('opacity-0', 'invisible');
					backToTop?.classList.add('opacity-100', 'visible');
				} else {
					backToTop?.classList.add('opacity-0', 'invisible');
					backToTop?.classList.remove('opacity-100', 'visible');
				}
			});
			backToTop?.addEventListener('click', () => {
				window.scrollTo({ top: 0, behavior: 'smooth' });
			});
		</script>
	</body>
</html>
