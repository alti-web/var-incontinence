---
import '../styles/global.css';

interface Props {
	title: string;
}

const { title } = Astro.props;
const base = import.meta.env.BASE_URL;
---

<html lang="fr">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="Var Incontinence - Association d'aide et de soutien pour les personnes souffrant d'incontinence dans le Var." />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	<body class="bg-white text-gray-800 font-sans antialiased">
		<!-- Header -->
		<header class="bg-white shadow-sm sticky top-0 z-50">
			<nav class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
				<a href={base} class="flex items-center gap-3">
					<div class="w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center">
						<span class="text-white font-bold text-lg">VI</span>
					</div>
					<div>
						<span class="text-xl font-bold text-teal-700">Var Incontinence</span>
						<span class="hidden sm:block text-xs text-gray-500">Association loi 1901</span>
					</div>
				</a>
				<!-- Mobile menu button -->
				<button id="menu-toggle" class="md:hidden p-2 text-gray-600 hover:text-teal-700" aria-label="Menu">
					<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
					</svg>
				</button>
				<!-- Desktop nav -->
				<ul class="hidden md:flex items-center gap-6 text-sm font-medium">
					<li><a href={base} class="text-gray-600 hover:text-teal-700 transition-colors">Accueil</a></li>
					<li class="relative group">
						<button class="text-gray-600 hover:text-teal-700 transition-colors flex items-center gap-1">
							Annuaires
							<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
						</button>
						<ul class="absolute top-full left-0 mt-2 bg-white shadow-lg rounded-xl border border-gray-100 py-2 w-64 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50">
							<li><a href={`${base}toulon-materiel-medical/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Matériel médical - Toulon</a></li>
							<li><a href={`${base}toulon-infirmiere/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Infirmières - Toulon</a></li>
							<li><a href={`${base}toulon-association/`} class="block px-4 py-2 text-gray-600 hover:bg-teal-50 hover:text-teal-700">Associations - Toulon</a></li>
						</ul>
					</li>
					<li><a href={`${base}#contact`} class="bg-teal-600 text-white px-5 py-2 rounded-full hover:bg-teal-700 transition-colors">Contact</a></li>
				</ul>
			</nav>
			<!-- Mobile nav -->
			<div id="mobile-menu" class="hidden md:hidden border-t border-gray-100">
				<ul class="flex flex-col px-4 py-4 gap-4 text-sm font-medium">
					<li><a href={base} class="text-gray-600 hover:text-teal-700">Accueil</a></li>
					<li class="border-t border-gray-100 pt-2 text-xs text-gray-400 uppercase tracking-wider">Annuaires Toulon</li>
					<li><a href={`${base}toulon-materiel-medical/`} class="text-gray-600 hover:text-teal-700">Matériel médical</a></li>
					<li><a href={`${base}toulon-infirmiere/`} class="text-gray-600 hover:text-teal-700">Infirmières</a></li>
					<li><a href={`${base}toulon-association/`} class="text-gray-600 hover:text-teal-700">Associations</a></li>
					<li class="border-t border-gray-100 pt-2"><a href={`${base}#contact`} class="text-teal-700 font-semibold">Contact</a></li>
				</ul>
			</div>
		</header>

		<main>
			<slot />
		</main>

		<!-- Footer -->
		<footer class="bg-gray-900 text-gray-300">
			<div class="max-w-6xl mx-auto px-4 py-12">
				<div class="grid md:grid-cols-3 gap-8">
					<div>
						<div class="flex items-center gap-3 mb-4">
							<div class="w-8 h-8 bg-teal-600 rounded-full flex items-center justify-center">
								<span class="text-white font-bold text-sm">VI</span>
							</div>
							<span class="text-lg font-bold text-white">Var Incontinence</span>
						</div>
						<p class="text-sm text-gray-400 leading-relaxed">
							Association loi 1901 d'aide et de soutien pour les personnes touchées par l'incontinence dans le département du Var.
						</p>
					</div>
					<div>
						<h4 class="text-white font-semibold mb-4">Annuaires Toulon</h4>
						<ul class="space-y-2 text-sm">
							<li><a href={`${base}toulon-materiel-medical/`} class="hover:text-teal-400 transition-colors">Matériel médical</a></li>
							<li><a href={`${base}toulon-infirmiere/`} class="hover:text-teal-400 transition-colors">Infirmières</a></li>
							<li><a href={`${base}toulon-association/`} class="hover:text-teal-400 transition-colors">Associations santé</a></li>
							<li><a href={`${base}#contact`} class="hover:text-teal-400 transition-colors">Nous contacter</a></li>
						</ul>
					</div>
					<div>
						<h4 class="text-white font-semibold mb-4">Contact</h4>
						<ul class="space-y-2 text-sm text-gray-400">
							<li>Var (83), France</li>
							<li>contact@var-incontinence.fr</li>
						</ul>
					</div>
				</div>
				<div class="border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-500">
					<p>&copy; {new Date().getFullYear()} Var Incontinence. Tous droits réservés.</p>
				</div>
			</div>
		</footer>

		<script>
			const toggle = document.getElementById('menu-toggle');
			const menu = document.getElementById('mobile-menu');
			toggle?.addEventListener('click', () => {
				menu?.classList.toggle('hidden');
			});
			// Close mobile menu on link click
			menu?.querySelectorAll('a').forEach(link => {
				link.addEventListener('click', () => {
					menu?.classList.add('hidden');
				});
			});
		</script>
	</body>
</html>
